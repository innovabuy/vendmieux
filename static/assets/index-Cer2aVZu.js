const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Accueil-D6hy0gfo.js","assets/vendor-DlVRmtdY.js","assets/shared-OxuTd2IV.js","assets/Produit-DiseBOGH.js","assets/Tarifs-Dd3hpqxV.js","assets/Scenarios-DGNHGr9l.js","assets/Ecoles-DpVczu2f.js","assets/EcolesTarifs-r4noiQZ2.js","assets/Contact-HRs5lfDy.js","assets/MentionsLegales-BftmZs2R.js","assets/Confidentialite-D0GpZrv2.js","assets/Dashboard--vJdGwz0.js","assets/Login-C0qx7sjV.js","assets/AppDashboard-Df4zSdUm.js","assets/AppSession-MMKUbcYN.js"])))=>i.map(i=>d[i]);
import{r as T,a as O,g as k,b as o,B as L,R as w,c as f,u as z}from"./vendor-DlVRmtdY.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const u of t)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function s(t){const u={};return t.integrity&&(u.integrity=t.integrity),t.referrerPolicy&&(u.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?u.credentials="include":t.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(t){if(t.ep)return;t.ep=!0;const u=s(t);fetch(t.href,u)}})();const F="modulepreload",B=function(a){return"/"+a},j={},p=function(r,s,l){let t=Promise.resolve();if(s&&s.length>0){let d=function(c){return Promise.all(c.map(i=>Promise.resolve(i).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),m=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));t=d(s.map(c=>{if(c=B(c),c in j)return;j[c]=!0;const i=c.endsWith(".css"),g=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${g}`))return;const h=document.createElement("link");if(h.rel=i?"stylesheet":F,i||(h.as="script"),h.crossOrigin="",h.href=c,m&&h.setAttribute("nonce",m),document.head.appendChild(h),i)return new Promise((b,P)=>{h.addEventListener("load",b),h.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${c}`)))})}))}function u(d){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=d,window.dispatchEvent(n),!n.defaultPrevented)throw d}return t.then(d=>{for(const n of d||[])n.status==="rejected"&&u(n.reason);return r().catch(u)})};var v={exports:{}},_={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S;function V(){if(S)return _;S=1;var a=T(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,t=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(n,m,c){var i,g={},h=null,b=null;c!==void 0&&(h=""+c),m.key!==void 0&&(h=""+m.key),m.ref!==void 0&&(b=m.ref);for(i in m)l.call(m,i)&&!u.hasOwnProperty(i)&&(g[i]=m[i]);if(n&&n.defaultProps)for(i in m=n.defaultProps,m)g[i]===void 0&&(g[i]=m[i]);return{$$typeof:r,type:n,key:h,ref:b,props:g,_owner:t.current}}return _.Fragment=s,_.jsx=d,_.jsxs=d,_}var R;function q(){return R||(R=1,v.exports=V()),v.exports}var e=q(),y={},D;function $(){if(D)return y;D=1;var a=O();return y.createRoot=a.createRoot,y.hydrateRoot=a.hydrateRoot,y}var U=$();const N=k(U),A=o.createContext(),J={bg:"#0C0E13",bgC:"#14171E",bgE:"#1C2029",bd:"#2A2E3A",tx:"#E8E6E1",mt:"#8B8D95",dm:"#84868E",ac:"#D4854A",acL:"#E89B5E",acD:"rgba(212,133,74,0.15)",ok:"#3DB06B",okD:"rgba(61,176,107,0.15)",bl:"#4A7FD4",blD:"rgba(74,127,212,0.12)",wr:"#D4A84A",wrD:"rgba(212,168,74,0.15)",dn:"#D45A5A",dnD:"rgba(212,90,90,0.15)",vi:"#8B5ECF",viD:"rgba(139,94,207,0.12)"},W={bg:"#F5F3EF",bgC:"#FFFFFF",bgE:"#EDEAE4",bd:"#D8D5CE",tx:"#1A1A1A",mt:"#5C5C5C",dm:"#8C8C8C",ac:"#C47539",acL:"#D4854A",acD:"rgba(196,117,57,0.12)",ok:"#2D8F55",okD:"rgba(45,143,85,0.12)",bl:"#3A6BBF",blD:"rgba(58,107,191,0.10)",wr:"#B8922E",wrD:"rgba(184,146,46,0.12)",dn:"#C04444",dnD:"rgba(192,68,68,0.12)",vi:"#7548B2",viD:"rgba(117,72,178,0.10)"};function K({children:a}){const[r,s]=o.useState(()=>{try{return localStorage.getItem("vm-theme")!=="light"}catch{return!0}}),[l,t]=o.useState(()=>{try{return!localStorage.getItem("vm-theme-seen")}catch{return!0}});o.useEffect(()=>{try{localStorage.setItem("vm-theme",r?"dark":"light")}catch{}},[r]);const u=()=>{t(!1);try{localStorage.setItem("vm-theme-seen","1")}catch{}},d=()=>s(m=>!m),n=r?J:W;return e.jsx(A.Provider,{value:{isDark:r,toggle:d,colors:n},children:e.jsxs("div",{style:{background:n.bg,color:n.tx,minHeight:"100vh",transition:"background 0.3s, color 0.3s"},children:[a,l&&e.jsx(Y,{isDark:r,toggle:d,dismiss:u,colors:n})]})})}function Y({isDark:a,toggle:r,dismiss:s,colors:l}){return e.jsxs("div",{style:{position:"fixed",bottom:24,right:24,zIndex:300,background:l.bgC,border:`1px solid ${l.bd}`,borderRadius:16,padding:"16px 20px",maxWidth:320,boxShadow:"0 8px 32px rgba(0,0,0,0.3)",animation:"toastSlideUp 0.5s cubic-bezier(0.34,1.56,0.64,1)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:10},children:[e.jsx("span",{style:{fontSize:13,fontWeight:600},children:"ðŸŒ“ Mode d'affichage"}),e.jsx("button",{onClick:s,style:{background:"none",border:"none",color:l.dm,fontSize:16,cursor:"pointer",padding:0,lineHeight:1},children:"Ã—"})]}),e.jsxs("p",{style:{fontSize:12,color:l.mt,lineHeight:1.5,margin:"0 0 12px"},children:["Le site est en mode ",a?"sombre":"clair",". Vous pouvez changer Ã  tout moment avec le toggle en haut Ã  droite."]}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsxs("button",{onClick:()=>{r(),s()},style:{flex:1,padding:"8px 14px",borderRadius:8,border:`1px solid ${l.bd}`,background:l.bgE,color:l.tx,fontSize:12,fontWeight:600,cursor:"pointer"},children:["Passer en ",a?"clair â˜€ï¸":"sombre ðŸŒ™"]}),e.jsx("button",{onClick:s,style:{padding:"8px 14px",borderRadius:8,border:"none",background:l.ac,color:"#fff",fontSize:12,fontWeight:600,cursor:"pointer"},children:"OK"})]}),e.jsx("style",{children:"@keyframes toastSlideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"})]})}function H(){return o.useContext(A)}function ue(){const{isDark:a,toggle:r,colors:s}=H();return e.jsx("button",{onClick:r,title:a?"Passer en mode clair":"Passer en mode sombre",style:{width:36,height:36,borderRadius:8,border:`1px solid ${s.bd}`,background:s.bgE,display:"flex",alignItems:"center",justifyContent:"center",fontSize:16,cursor:"pointer",color:s.tx,transition:"all 0.2s",flexShrink:0},children:a?"â˜€ï¸":"ðŸŒ™"})}const I=o.createContext(null),x="vm-token",E="vm-user";function M({children:a}){const[r,s]=o.useState(null),[l,t]=o.useState(null),[u,d]=o.useState(!0);o.useEffect(()=>{const c=localStorage.getItem(x);if(!c){d(!1);return}t(c),fetch("/api/auth/me",{headers:{Authorization:`Bearer ${c}`}}).then(i=>{if(!i.ok)throw new Error;return i.json()}).then(i=>{s(i),t(c)}).catch(()=>{localStorage.removeItem(x),localStorage.removeItem(E),t(null)}).finally(()=>d(!1))},[]);const n=(c,i)=>{localStorage.setItem(x,c),localStorage.setItem(E,JSON.stringify(i)),t(c),s(i)},m=()=>{localStorage.removeItem(x),localStorage.removeItem(E),t(null),s(null)};return e.jsx(I.Provider,{value:{user:r,token:l,login:n,logout:m,loading:u},children:a})}function de(){return o.useContext(I)}async function me(a,r={}){const s=localStorage.getItem(x),l={...r.headers};s&&(l.Authorization=`Bearer ${s}`),r.body&&typeof r.body=="object"&&!(r.body instanceof FormData)&&(l["Content-Type"]="application/json",r.body=JSON.stringify(r.body));const t=await fetch(a,{...r,headers:l});if(t.status===401)throw localStorage.removeItem(x),localStorage.removeItem(E),window.location.href="/app/login",new Error("Session expirÃ©e");return t}const C=o.lazy(()=>p(()=>import("./Accueil-D6hy0gfo.js"),__vite__mapDeps([0,1,2]))),G=o.lazy(()=>p(()=>import("./Produit-DiseBOGH.js"),__vite__mapDeps([3,1,2]))),Q=o.lazy(()=>p(()=>import("./Tarifs-Dd3hpqxV.js"),__vite__mapDeps([4,1,2]))),X=o.lazy(()=>p(()=>import("./Scenarios-DGNHGr9l.js"),__vite__mapDeps([5,1,2]))),Z=o.lazy(()=>p(()=>import("./Ecoles-DpVczu2f.js"),__vite__mapDeps([6,1,2]))),ee=o.lazy(()=>p(()=>import("./EcolesTarifs-r4noiQZ2.js"),__vite__mapDeps([7,1,2]))),te=o.lazy(()=>p(()=>import("./Contact-HRs5lfDy.js"),__vite__mapDeps([8,1,2]))),re=o.lazy(()=>p(()=>import("./MentionsLegales-BftmZs2R.js"),__vite__mapDeps([9,2,1]))),oe=o.lazy(()=>p(()=>import("./Confidentialite-D0GpZrv2.js"),__vite__mapDeps([10,2,1]))),ne=o.lazy(()=>p(()=>import("./Dashboard--vJdGwz0.js"),__vite__mapDeps([11,1,2]))),se=o.lazy(()=>p(()=>import("./Login-C0qx7sjV.js"),__vite__mapDeps([12,1,2]))),ie=o.lazy(()=>p(()=>import("./AppDashboard-Df4zSdUm.js"),__vite__mapDeps([13,1,2]))),ae=o.lazy(()=>p(()=>import("./AppSession-MMKUbcYN.js"),__vite__mapDeps([14,1,2])));function le(){const{pathname:a}=z();return o.useEffect(()=>{window.scrollTo(0,0)},[a]),null}N.createRoot(document.getElementById("root")).render(e.jsx(L,{children:e.jsx(M,{children:e.jsxs(K,{children:[e.jsx(le,{}),e.jsx(o.Suspense,{fallback:e.jsx("div",{style:{minHeight:"100vh",background:"#0C0E13"}}),children:e.jsxs(w,{children:[e.jsx(f,{path:"/",element:e.jsx(C,{})}),e.jsx(f,{path:"/produit",element:e.jsx(G,{})}),e.jsx(f,{path:"/tarifs",element:e.jsx(Q,{})}),e.jsx(f,{path:"/scenarios",element:e.jsx(X,{})}),e.jsx(f,{path:"/ecoles",element:e.jsx(Z,{})}),e.jsx(f,{path:"/ecoles-tarifs",element:e.jsx(ee,{})}),e.jsx(f,{path:"/contact",element:e.jsx(te,{})}),e.jsx(f,{path:"/mentions-legales",element:e.jsx(re,{})}),e.jsx(f,{path:"/confidentialite",element:e.jsx(oe,{})}),e.jsx(f,{path:"/dashboard",element:e.jsx(ne,{})}),e.jsx(f,{path:"/app/login",element:e.jsx(se,{})}),e.jsx(f,{path:"/app/dashboard",element:e.jsx(ie,{})}),e.jsx(f,{path:"/app/session/:id",element:e.jsx(ae,{})}),e.jsx(f,{path:"*",element:e.jsx(C,{})})]})})]})})}));export{ue as T,me as a,H as b,J as d,e as j,de as u};
