import{b as h}from"./vendor-iPqs1NIt.js";import{_ as O,j as e,a as Y,u as U}from"./index-Cz8MnbeB.js";import{u as _}from"./shared-CAfbN5GR.js";function de(){const i=h.useRef(null),t=h.useRef(!1);h.useEffect(()=>{if(t.current)return;t.current=!0;const s=new Audio("/static/sounds/phone-ring.mp3");return s.loop=!0,s.volume=.4,s.preload="auto",i.current=s,()=>{i.current&&(i.current.pause(),i.current.src="",i.current=null)}},[]);const r=h.useCallback(async()=>{i.current||(i.current=new Audio("/static/sounds/phone-ring.mp3"),i.current.loop=!0,i.current.volume=.4);try{i.current.currentTime=0,await i.current.play()}catch(s){console.warn("Ring tone failed:",s)}},[]),o=h.useCallback(()=>{i.current&&(i.current.pause(),i.current.currentTime=0)},[]);return{play:r,stop:o}}O(()=>import("./livekit-jb1bL6Ef.js"),[]);function me(){const i=h.useRef(null),t=h.useRef(null),r=h.useRef(null),o=h.useRef(null),s=h.useRef(!1),[a,n]=h.useState("idle"),[m,g]=h.useState(""),[l,d]=h.useState("00:00"),[u,y]=h.useState(!1),[c,S]=h.useState([]),[b,B]=h.useState({});h.useEffect(()=>()=>{i.current&&(i.current.disconnect(),i.current=null),t.current&&(clearInterval(t.current),t.current=null),document.querySelectorAll("audio[data-lk-sim]").forEach(f=>f.remove())},[]);const $=h.useCallback((f,v)=>{if(!f||!f.length)return;const x=v&&v.identity!==o.current?"agent":"user",C=[],W={},E=[];for(const k of f){const w=k.text||k.final||"";if(!w.trim())continue;const T=k.id||k.sid||x+"-"+Date.now();(k.final!==void 0?k.final:k.isFinal)?(E.push(T),C.push({who:x,text:w.trim(),time:r.current?Date.now()-r.current:0})):W[T]={who:x,text:w.trim()}}C.length>0&&S(k=>[...k,...C]),(E.length>0||Object.keys(W).length>0)&&B(k=>{const w={...k,...W};for(const T of E)delete w[T];return w})},[]),F=h.useCallback(async({tokenUrl:f,scenarioId:v,difficulty:z,userName:x,language:C,authToken:W,onPickup:E,prefetchedToken:k})=>{s.current=!1,n("connecting"),g("Appel en cours..."),S([]),B({}),y(!1);try{const w=k?Promise.resolve(k):(async()=>{const R={"Content-Type":"application/json"};W&&(R.Authorization="Bearer "+W);const D=await fetch(f,{method:"POST",headers:R,body:JSON.stringify({scenario_id:v!=="__default__"?v:null,difficulty:z,user_name:x,language:C})});if(!D.ok)throw new Error("Erreur serveur (token)");return D.json()})(),[T,A]=await Promise.all([w,O(()=>import("./livekit-jb1bL6Ef.js"),[])]);o.current=T.identity;const V=T.session_db_id||null,I=new A.Room({adaptiveStream:!0,dynacast:!0});return i.current=I,I.on(A.RoomEvent.TrackSubscribed,R=>{if(R.kind==="audio"){E==null||E();const D=R.attach();D.setAttribute("data-lk-sim","true"),document.body.appendChild(D),n("connected"),g("En communication")}}),I.on(A.RoomEvent.Reconnecting,()=>{n("connecting"),g("Reconnexion...")}),I.on(A.RoomEvent.Reconnected,()=>{n("connected"),g("En communication")}),I.on(A.RoomEvent.Disconnected,R=>{if(!s.current){n("error"),g("Connexion perdue");return}p()}),I.on(A.RoomEvent.TranscriptionReceived,(R,D)=>{$(R,D)}),await I.connect(T.url,T.token),g("Activation du micro..."),await I.localParticipant.setMicrophoneEnabled(!0),n("ringing"),g("√áa sonne..."),Array.from(I.remoteParticipants.values()).length>0?(n("connected"),g("En communication")):I.on(A.RoomEvent.ParticipantConnected,()=>{n("connected"),g("En communication")}),r.current=Date.now(),t.current=setInterval(()=>{if(!r.current)return;const R=Math.floor((Date.now()-r.current)/1e3);d(String(Math.floor(R/60)).padStart(2,"0")+":"+String(R%60).padStart(2,"0"))},1e3),{sessionDbId:V}}catch(w){throw n("error"),g("Erreur : "+w.message),w}},[$]),p=h.useCallback(()=>{const f=r.current?Date.now()-r.current:0;return s.current=!0,i.current&&(i.current.disconnect(),i.current=null),t.current&&(clearInterval(t.current),t.current=null),document.querySelectorAll("audio[data-lk-sim]").forEach(v=>v.remove()),n("idle"),f},[]),j=h.useCallback(()=>{i.current&&y(f=>{const v=!f;return i.current.localParticipant.setMicrophoneEnabled(!v),v})},[]);return h.useCallback(()=>null,[]),{status:a,statusMsg:m,timer:l,muted:u,transcriptEntries:c,pendingSegments:b,connect:F,disconnect:p,toggleMute:j,t0Ref:r}}const J=["accroche","decouverte","creation_enjeu","argumentation","traitement_objections","engagement"],G={accroche:"Accroche",decouverte:"D√©couverte",creation_enjeu:"Cr√©ation d'enjeu",argumentation:"Argumentation",traitement_objections:"Objections",engagement:"Engagement"},N={rdv_obtenu:"RDV obtenu",mail_envoi:"Mail √† envoyer",rappel_prevu:"Rappel pr√©vu",echec_poli:"√âchec poli",echec_dur:"√âchec"},ge=[{code:"fr",flag:"üá´üá∑",label:"Fran√ßais"},{code:"en",flag:"üá¨üáß",label:"English"},{code:"es",flag:"üá™üá∏",label:"Espa√±ol"},{code:"de",flag:"üá©üá™",label:"Deutsch"},{code:"it",flag:"üáÆüáπ",label:"Italiano"}],pe=[{value:1,emoji:"üü¢",label:"Facile",desc:"Prospect ouvert, peu d'objections"},{value:2,emoji:"üü°",label:"Interm√©diaire",desc:"Prospect m√©fiant, objections classiques"},{value:3,emoji:"üî¥",label:"Difficile",desc:"Prospect hostile, objections dures, temps limit√©"}],K={D:"Dominance",I:"Influence",S:"Stabilit√©",C:"Conformit√©"};function q({entries:i,pending:t}){const r=_(),o=h.useRef(null);return h.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[i,t]),i.length===0&&Object.keys(t).length===0?null:e.jsxs("div",{ref:o,style:{background:r.bgC,border:`1px solid ${r.bd}`,borderRadius:14,padding:16,marginTop:24,maxHeight:180,overflowY:"auto"},children:[i.map((a,n)=>e.jsxs("div",{style:{padding:"5px 0",fontSize:12.5,lineHeight:1.5,borderBottom:n<i.length-1?`1px solid ${r.bd}33`:"none"},children:[e.jsx("span",{style:{fontWeight:700,fontSize:10,textTransform:"uppercase",letterSpacing:.5,marginRight:6,color:a.who==="user"?r.bl:r.ac},children:a.who==="user"?"Vous":"Prospect"}),a.text]},n)),Object.entries(t).map(([a,n])=>e.jsxs("div",{style:{padding:"5px 0",fontSize:12.5,lineHeight:1.5,fontStyle:"italic",opacity:.6},children:[e.jsx("span",{style:{fontWeight:700,fontSize:10,textTransform:"uppercase",letterSpacing:.5,marginRight:6,color:n.who==="user"?r.bl:r.ac},children:n.who==="user"?"Vous":"Prospect"}),n.text]},a))]})}const L=`
@keyframes sim-bar { 0%,100%{height:3px} 50%{height:28px} }
@keyframes sim-bar-rdv { 0%,100%{height:4px} 50%{height:32px} }
@keyframes sim-glow { 0%,100%{box-shadow:0 0 40px var(--sim-glow)} 50%{box-shadow:0 0 60px var(--sim-glow),0 0 90px rgba(212,133,74,0.08)} }
@keyframes sim-glow-rdv { 0%,100%{box-shadow:0 0 50px var(--sim-glow)} 50%{box-shadow:0 0 70px var(--sim-glow),0 0 100px rgba(212,133,74,0.1)} }
`;function H({active:i,color:t,isRdv:r}){const o=[0,.12,.22,.08,.18,.28,.05];return e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:r?4:3,height:r?40:36,marginBottom:20,width:r?"100%":"auto"},children:o.map((s,a)=>e.jsx("div",{style:{width:r?3:3.5,background:r?void 0:t,backgroundImage:r?`linear-gradient(to top, transparent, ${t})`:void 0,borderRadius:2,height:i?void 0:r?4:3,animation:i?`${r?"sim-bar-rdv":"sim-bar"} 0.75s ease-in-out infinite ${s}s`:"none",transition:"height 0.1s"}},a))})}function X({elapsedSeconds:i,accentColor:t}){const r=_(),o=[{label:"Accroche",color:r.wr,maxSec:120},{label:"D√©couverte",color:r.bl,maxSec:300},{label:"Proposition",color:r.ok,maxSec:1/0}],s=i<120?0:i<300?1:2;return e.jsx("div",{style:{display:"flex",gap:2,width:"100%",marginBottom:16,borderRadius:6,overflow:"hidden"},children:o.map((a,n)=>e.jsx("div",{style:{flex:1,position:"relative",height:6,background:n===s?a.color:`${a.color}33`,transition:"background 0.5s",borderRadius:n===0?"6px 0 0 6px":n===2?"0 6px 6px 0":0},children:e.jsx("span",{style:{position:"absolute",top:10,left:"50%",transform:"translateX(-50%)",fontSize:9,fontWeight:600,letterSpacing:.3,whiteSpace:"nowrap",color:n===s?a.color:r.dm,transition:"color 0.5s"},children:a.label})},n))})}function Q({status:i,transcriptEntries:t,pendingSegments:r}){const o=_();let s="‚óè √âcoute active",a=o.ok;const n=Object.values(r||{}),m=n.some(l=>l.who==="agent"),g=n.some(l=>l.who==="user");if(i!=="connected")s="‚óè En attente",a=o.mt;else if(m)s="‚óè Parle",a=o.ac;else if(g)s="‚óè √âcoute active",a=o.ok;else{const l=t[t.length-1];l&&Date.now()-(l.time||0)<3e3&&(s=l.who==="agent"?"‚óè R√©fl√©chit...":"‚óè √âcoute active",a=l.who==="agent"?o.wr:o.ok)}return e.jsx("div",{style:{display:"inline-flex",alignItems:"center",gap:4,padding:"4px 12px",borderRadius:20,fontSize:11,fontWeight:600,background:`${a}18`,color:a,transition:"all 0.3s"},children:s})}function ue({persona:i,status:t,statusMsg:r,timer:o,muted:s,transcriptEntries:a,pendingSegments:n,onStart:m,onMute:g,onStop:l,isRdvPhysique:d,scenario:u,elapsedSeconds:y}){const c=_(),S=t==="intro",b=t==="connected"||t==="ringing"||S,B=t==="idle"||t==="error",$=!B&&!S,F=t==="connected"?"ok":t==="error"?"err":"",p=S?c.ac:F==="ok"?c.ok:F==="err"?c.dn:c.mt,j=Object.values(n||{}),f=j.some(C=>C.who==="agent"),z=j.some(C=>C.who==="user")?"Vous":f&&i?`${i.prenom} ${i.nom}`:null,x=i==null?void 0:i.entreprise;return d?e.jsxs("div",{style:{textAlign:"center",maxWidth:560,margin:"0 auto",position:"relative"},children:[e.jsx("style",{children:L}),e.jsx("div",{style:{position:"fixed",inset:0,pointerEvents:"none",zIndex:0,background:"radial-gradient(ellipse at center, rgba(20,30,50,0.8) 0%, #080D1A 70%)"}}),e.jsxs("div",{style:{marginBottom:8,position:"relative",zIndex:1},children:[e.jsx("div",{style:{fontSize:16,fontWeight:600,marginBottom:4},children:"üè¢ Entretien en cours"}),x&&e.jsxs("div",{style:{color:c.mt,fontSize:13,marginBottom:6},children:[x.nom,x.siege?` ¬∑ ${x.siege}`:"",x.ville?` ¬∑ ${x.ville}`:""]}),e.jsxs("div",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:12,color:c.mt,marginBottom:16},children:["Dur√©e de l'entretien : ",o]})]}),e.jsxs("div",{style:{width:280,margin:"0 auto",padding:"24px 20px 20px",background:c.bgC,border:`1px solid ${c.bd}`,borderRadius:18,position:"relative",zIndex:1},children:[e.jsx(X,{elapsedSeconds:y||0,accentColor:c.ac}),e.jsx("div",{style:{"--sim-glow":c.acD,width:72,height:72,borderRadius:"50%",background:c.bgE,border:`3px solid ${b?c.ac:c.bd}`,display:"grid",placeItems:"center",margin:"8px auto 14px",fontSize:30,transition:"all 0.3s",boxShadow:b?`0 0 50px ${c.acD}`:"none",animation:b?"sim-glow-rdv 1.8s ease-in-out infinite":"none"},children:S?"üè¢":"üë§"}),i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{fontSize:18,fontWeight:700,marginBottom:2,letterSpacing:-.3},children:[i.prenom," ",i.nom]}),e.jsx("div",{style:{color:c.mt,fontSize:12,marginBottom:4},children:i.poste}),e.jsx("div",{style:{color:c.dm,fontSize:11,marginBottom:12},children:x==null?void 0:x.nom})]}),e.jsx(Q,{status:t,transcriptEntries:a,pendingSegments:n}),e.jsxs("div",{style:{marginTop:16},children:[e.jsx(H,{active:t==="connected",color:c.ac,isRdv:!0}),z&&t==="connected"&&e.jsx("div",{style:{fontSize:11,color:c.mt,marginTop:-14,marginBottom:8},children:z})]}),e.jsx("div",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:11,color:p,marginBottom:16,minHeight:16},children:S?"Arriv√©e dans les locaux...":r||"Pr√™t pour l'entretien"}),e.jsxs("div",{style:{display:"flex",gap:14,justifyContent:"center"},children:[B&&e.jsx("button",{onClick:m,style:{width:58,height:58,borderRadius:"50%",border:"none",display:"grid",placeItems:"center",fontSize:22,cursor:"pointer",transition:"all 0.15s",background:c.ok,color:"#fff",boxShadow:`0 4px 20px ${c.okD}`},children:"üè¢"}),$&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:g,style:{width:58,height:58,borderRadius:"50%",border:s?"none":`1px solid ${c.bd}`,display:"grid",placeItems:"center",fontSize:22,cursor:"pointer",transition:"all 0.15s",background:s?c.dn:c.bgC,color:s?"#fff":c.tx},children:s?"üîá":"üéôÔ∏è"}),e.jsx("button",{onClick:l,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,height:46,padding:"0 20px",borderRadius:23,border:"none",fontSize:13,fontWeight:600,cursor:"pointer",transition:"all 0.15s",background:c.dn,color:"#fff",boxShadow:`0 4px 20px ${c.dnD}`,fontFamily:"inherit"},children:"ü§ù Mettre fin √† l'entretien"})]})]})]}),b&&e.jsxs("div",{style:{position:"fixed",bottom:24,left:24,display:"flex",alignItems:"center",gap:6,opacity:.5,fontSize:12,color:c.mt,zIndex:2},children:["üîä ",e.jsx("span",{children:"Ambiance bureau"})]}),e.jsx("div",{style:{position:"relative",zIndex:1},children:e.jsx(q,{entries:a,pending:n})})]}):e.jsxs("div",{style:{textAlign:"center",maxWidth:560,margin:"0 auto"},children:[e.jsx("style",{children:L}),e.jsx("div",{style:{"--sim-glow":c.acD,width:110,height:110,borderRadius:"50%",background:c.bgC,border:`3px solid ${b?c.ac:c.bd}`,display:"grid",placeItems:"center",margin:"0 auto 22px",fontSize:44,transition:"all 0.3s",boxShadow:b?`0 0 40px ${c.acD}`:"none",animation:b?"sim-glow 1.8s ease-in-out infinite":"none"},children:S?"üè¢":"üë§"}),i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{fontSize:22,fontWeight:700,marginBottom:3,letterSpacing:-.3},children:[i.prenom," ",i.nom]}),e.jsxs("div",{style:{color:c.mt,fontSize:13,marginBottom:28},children:[i.poste," ‚Äî ",i.entreprise.nom]})]}),e.jsx(H,{active:t==="connected",color:c.ac}),e.jsx("div",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:12,color:p,marginBottom:20,minHeight:18},children:r||"Pr√™t √† appeler"}),e.jsx("div",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:32,fontWeight:300,color:c.tx,marginBottom:28,letterSpacing:3},children:o}),e.jsxs("div",{style:{display:"flex",gap:14,justifyContent:"center"},children:[B&&e.jsx("button",{onClick:m,style:{width:58,height:58,borderRadius:"50%",border:"none",display:"grid",placeItems:"center",fontSize:22,cursor:"pointer",transition:"all 0.15s",background:c.ok,color:"#fff",boxShadow:`0 4px 20px ${c.okD}`},children:"üìû"}),$&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:g,style:{width:58,height:58,borderRadius:"50%",border:s?"none":`1px solid ${c.bd}`,display:"grid",placeItems:"center",fontSize:22,cursor:"pointer",transition:"all 0.15s",background:s?c.dn:c.bgC,color:s?"#fff":c.tx},children:s?"üîá":"üéôÔ∏è"}),e.jsx("button",{onClick:l,style:{width:58,height:58,borderRadius:"50%",border:"none",display:"grid",placeItems:"center",fontSize:22,cursor:"pointer",transition:"all 0.15s",background:c.dn,color:"#fff",boxShadow:`0 4px 20px ${c.dnD}`},children:"‚úï"})]})]}),e.jsx(q,{entries:a,pending:n})]})}function Z(i){const t=Math.floor(i/1e3);return String(Math.floor(t/60)).padStart(2,"0")+":"+String(t%60).padStart(2,"0")}function he({persona:i,duration:t,transcriptEntries:r,evalLoading:o,evalError:s,children:a}){const n=_();let m=0,g=null;for(const d of r)d.who!==g&&(m++,g=d.who);const l=r.reduce((d,u)=>d+u.text.split(/\s+/).filter(y=>y).length,0);return e.jsxs("div",{children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:28},children:[e.jsx("div",{style:{fontSize:22,fontWeight:700,marginBottom:6},children:"Appel termin√©"}),i&&e.jsxs("div",{style:{color:n.mt,fontSize:14},children:[i.prenom," ",i.nom," ‚Äî ",i.poste,", ",i.entreprise.nom]})]}),e.jsx("div",{className:"sim-post-stats",style:{display:"flex",gap:16,justifyContent:"center",marginBottom:28},children:[{value:Z(t),label:"Dur√©e"},{value:m,label:"√âchanges"},{value:l,label:"Mots"}].map((d,u)=>e.jsxs("div",{style:{background:n.bgC,border:`1px solid ${n.bd}`,borderRadius:10,padding:"16px 24px",textAlign:"center",minWidth:120},children:[e.jsx("div",{style:{fontSize:24,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",marginBottom:4},children:d.value}),e.jsx("div",{style:{fontSize:11,color:n.dm,textTransform:"uppercase",letterSpacing:.8,fontWeight:600},children:d.label})]},u))}),o&&e.jsxs("div",{style:{textAlign:"center",padding:"48px 20px",color:n.mt},children:[e.jsx("div",{style:{display:"inline-block",width:36,height:36,border:`3px solid ${n.bd}`,borderTopColor:n.ac,borderRadius:"50%",animation:"spin 0.6s linear infinite",marginBottom:16}}),e.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"}),e.jsx("div",{style:{fontSize:15,fontWeight:600,marginBottom:4},children:"√âvaluation FORCE 3D en cours..."}),e.jsx("div",{style:{fontSize:12,color:n.dm},children:"Claude analyse votre performance commerciale"})]}),s&&e.jsxs("div",{style:{textAlign:"center",padding:"48px 20px",color:n.dn},children:["Erreur √©valuation : ",s]}),a]})}const ee=["Accroche","D√©couverte",`Cr√©ation
d'enjeu`,"Argumentation","Objections","Engagement"];function te({competences:i,width:t=340,height:r=340}){const o=h.useRef(null),{isDark:s}=Y();return h.useEffect(()=>{const a=o.current;if(!a)return;const n=a.getContext("2d"),m=window.devicePixelRatio||1;a.width=t*m,a.height=r*m,a.style.width=t+"px",a.style.height=r+"px",n.scale(m,m);const g=t/2,l=r/2,d=Math.min(t,r)/2-40,u=6,y=J.map(p=>(i[p]||{}).score||0),c=s?"rgba(35,35,54,0.6)":"rgba(0,0,0,0.1)",S=s?"rgba(35,35,54,0.4)":"rgba(0,0,0,0.06)",b=s?"#7c7c9a":"#5c5c5c",B=s?"#08080d":"#F5F3EF",$=s?"rgba(212,133,74,0.15)":"rgba(196,117,57,0.15)",F=s?"#D4854A":"#C47539";n.strokeStyle=c,n.lineWidth=1;for(let p=1;p<=4;p++){const j=p/4*d;n.beginPath();for(let f=0;f<=u;f++){const v=Math.PI*2*f/u-Math.PI/2,z=g+j*Math.cos(v),x=l+j*Math.sin(v);f===0?n.moveTo(z,x):n.lineTo(z,x)}n.closePath(),n.stroke()}n.strokeStyle=S;for(let p=0;p<u;p++){const j=Math.PI*2*p/u-Math.PI/2;n.beginPath(),n.moveTo(g,l),n.lineTo(g+d*Math.cos(j),l+d*Math.sin(j)),n.stroke()}n.beginPath();for(let p=0;p<=u;p++){const j=p%u,f=Math.PI*2*j/u-Math.PI/2,v=y[j]/20*d,z=g+v*Math.cos(f),x=l+v*Math.sin(f);p===0?n.moveTo(z,x):n.lineTo(z,x)}n.closePath(),n.fillStyle=$,n.fill(),n.strokeStyle=F,n.lineWidth=2.5,n.stroke();for(let p=0;p<u;p++){const j=Math.PI*2*p/u-Math.PI/2,f=y[p]/20*d,v=g+f*Math.cos(j),z=l+f*Math.sin(j);n.beginPath(),n.arc(v,z,4,0,Math.PI*2),n.fillStyle=y[p]>=14?"#22c55e":y[p]>=8?"#f59e0b":"#ef4444",n.fill(),n.strokeStyle=B,n.lineWidth=2,n.stroke()}n.textAlign="center",n.textBaseline="middle",n.fillStyle=b,n.font="11px 'DM Sans', sans-serif";for(let p=0;p<u;p++){const j=Math.PI*2*p/u-Math.PI/2,f=d+22,v=g+f*Math.cos(j),z=l+f*Math.sin(j),x=ee[p].split(`
`);x.forEach((C,W)=>{n.fillText(C,v,z+(W-(x.length-1)/2)*13)}),n.fillStyle=y[p]>=14?"#22c55e":y[p]>=8?"#f59e0b":"#ef4444",n.font="bold 11px 'JetBrains Mono', monospace",n.fillText(y[p]+"/20",v,z+x.length*13),n.fillStyle=b,n.font="11px 'DM Sans', sans-serif"}},[i,s,t,r]),e.jsx("canvas",{ref:o,style:{display:"block",margin:"0 auto"}})}function M({score:i}){const t=(i/20*100).toFixed(0),r=_(),o=i>=14?r.ok:i>=8?r.wr:r.dn;return e.jsx("div",{style:{height:6,background:r.bgE,borderRadius:3,marginBottom:12,overflow:"hidden"},children:e.jsx("div",{style:{height:"100%",borderRadius:3,width:t+"%",background:o,transition:"width 0.6s ease"}})})}function oe({p:i}){const t=_();return typeof i=="string"?e.jsxs("div",{style:{marginBottom:3},children:["- ",i]}):e.jsxs("div",{style:{marginBottom:10,padding:10,background:t.bgE,borderRadius:6,border:`1px solid ${t.bd}`},children:[e.jsxs("div",{style:{fontSize:12,lineHeight:1.5,color:t.dn,marginBottom:6},children:['‚ùå Ce que vous avez dit : "',i.ce_que_vous_avez_dit||"",'"']}),e.jsxs("div",{style:{fontSize:12,lineHeight:1.5,color:t.ok,marginBottom:4},children:['‚úÖ Version am√©lior√©e : "',i.ce_qui_aurait_ete_mieux||"",'"']}),i.pourquoi&&e.jsxs("div",{style:{fontSize:11,lineHeight:1.4,color:t.dm,fontStyle:"italic"},children:["üí° ",i.pourquoi]})]})}function ne({compKey:i,comp:t}){const r=_(),o=G[i],s=t.score||0,a=s>=14?r.ok:s>=8?r.wr:r.dn;return e.jsxs("div",{style:{background:r.bgC,border:`1px solid ${r.bd}`,borderRadius:10,padding:18},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[e.jsx("div",{style:{fontSize:12,fontWeight:700,textTransform:"uppercase",letterSpacing:.8,color:r.dm},children:o}),e.jsxs("div",{style:{fontSize:16,fontWeight:800,fontFamily:"'JetBrains Mono', monospace",color:a},children:[s,"/20"]})]}),e.jsx(M,{score:s}),(t.points_forts||[]).length>0&&e.jsxs("div",{style:{fontSize:12,lineHeight:1.55,marginBottom:8},children:[e.jsx("div",{style:{fontWeight:700,color:r.dm,fontSize:10,textTransform:"uppercase",letterSpacing:.6,marginBottom:3},children:"Points forts"}),e.jsx("div",{style:{color:r.ok},children:(t.points_forts||[]).map((n,m)=>e.jsxs("div",{children:["+ ",n]},m))})]}),(t.points_progres||[]).length>0&&e.jsxs("div",{style:{fontSize:12,lineHeight:1.55,marginBottom:8},children:[e.jsx("div",{style:{fontWeight:700,color:r.dm,fontSize:10,textTransform:"uppercase",letterSpacing:.6,marginBottom:3},children:"Points de progr√®s"}),(t.points_progres||[]).map((n,m)=>e.jsx(oe,{p:n},m))]}),t.conseil&&e.jsx("div",{style:{fontStyle:"italic",color:r.acL,fontSize:12,marginTop:6,paddingTop:6,borderTop:`1px solid ${r.bd}`},children:t.conseil})]})}function ie({pc:i}){const t=_();if(!i)return null;const r=l=>({col:l>=14?t.ok:l>=8?t.wr:t.dn}),o=i.ton_general||{},s=i.assurance||{},a=i.formulation||{},n=i.score_posture||0,m=r(n).col,g=(l,d)=>(l||[]).map((u,y)=>e.jsxs("div",{style:{marginBottom:10,padding:10,background:t.bgE,borderRadius:6,border:`1px solid ${t.bd}`},children:[e.jsxs("div",{style:{fontSize:12,color:t.dn,marginBottom:6},children:['‚ùå "',u[d.said]||"",'"']}),e.jsxs("div",{style:{fontSize:12,color:t.dm,fontStyle:"italic",marginBottom:4},children:["üí° ",u[d.why]||""]}),e.jsxs("div",{style:{fontSize:12,color:t.ok},children:['‚úÖ "',u[d.better]||"",'"']}),u[d.tip]&&e.jsx("div",{style:{fontSize:11,color:t.acL,fontStyle:"italic",marginTop:4},children:u[d.tip]})]},y));return e.jsxs("div",{style:{marginBottom:28},children:[e.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:18,display:"flex",alignItems:"center",gap:10},children:"üé§ Votre posture commerciale"}),e.jsxs("div",{style:{background:t.bgC,border:`1px solid ${t.bd}`,borderRadius:10,padding:18,textAlign:"center",marginBottom:12},children:[e.jsxs("div",{style:{fontSize:28,fontWeight:800,fontFamily:"'JetBrains Mono', monospace",color:m},children:[n,e.jsx("span",{style:{fontSize:14,color:t.dm,fontWeight:400},children:"/20"})]}),e.jsx(M,{score:n}),e.jsx("div",{style:{fontSize:11,color:t.dm,textTransform:"uppercase",letterSpacing:.8,fontWeight:600,marginTop:4},children:"Score posture globale"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:14,marginBottom:16},children:[e.jsxs("div",{style:{background:t.bgC,border:`1px solid ${t.bd}`,borderRadius:10,padding:18},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[e.jsx("div",{style:{fontSize:12,fontWeight:700,textTransform:"uppercase",letterSpacing:.8,color:t.dm},children:"üé§ Ton"}),e.jsxs("div",{style:{fontSize:16,fontWeight:800,fontFamily:"'JetBrains Mono', monospace",color:r(o.note||0).col},children:[o.note||0,"/20"]})]}),e.jsx(M,{score:o.note||0}),o.description&&e.jsx("div",{style:{fontSize:13,color:t.mt,marginBottom:10,fontStyle:"italic"},children:o.description}),(o.moments_positifs||[]).length>0&&e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("div",{style:{fontWeight:700,color:t.dm,fontSize:10,textTransform:"uppercase",letterSpacing:.6,marginBottom:3},children:"Moments positifs"}),(o.moments_positifs||[]).map((l,d)=>e.jsxs("div",{style:{fontSize:12,color:t.ok,marginBottom:3},children:["‚úÖ ",l]},d))]}),(o.moments_a_ameliorer||[]).length>0&&e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:700,color:t.dm,fontSize:10,textTransform:"uppercase",letterSpacing:.6,marginBottom:3},children:"√Ä am√©liorer"}),g(o.moments_a_ameliorer,{said:"ce_que_vous_avez_dit",why:"probleme",better:"version_amelioree",tip:"conseil"})]})]}),e.jsxs("div",{style:{background:t.bgC,border:`1px solid ${t.bd}`,borderRadius:10,padding:18},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[e.jsx("div",{style:{fontSize:12,fontWeight:700,textTransform:"uppercase",letterSpacing:.8,color:t.dm},children:"üí™ Assurance"}),e.jsxs("div",{style:{fontSize:16,fontWeight:800,fontFamily:"'JetBrains Mono', monospace",color:r(s.note||0).col},children:[s.note||0,"/20"]})]}),e.jsx(M,{score:s.note||0}),s.description&&e.jsx("div",{style:{fontSize:13,color:t.mt,marginBottom:10,fontStyle:"italic"},children:s.description}),(s.marqueurs_confiance||[]).length>0&&e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("div",{style:{fontWeight:700,color:t.dm,fontSize:10,textTransform:"uppercase",letterSpacing:.6,marginBottom:3},children:"Marqueurs de confiance"}),(s.marqueurs_confiance||[]).map((l,d)=>e.jsxs("div",{style:{fontSize:12,color:t.ok,marginBottom:3},children:["‚úÖ ",l]},d))]}),(s.marqueurs_hesitation||[]).length>0&&e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:700,color:t.dm,fontSize:10,textTransform:"uppercase",letterSpacing:.6,marginBottom:3},children:"Marqueurs d'h√©sitation"}),g(s.marqueurs_hesitation,{said:"verbatim",why:"indice",better:"reformulation",tip:null})]})]}),e.jsxs("div",{style:{background:t.bgC,border:`1px solid ${t.bd}`,borderRadius:10,padding:18},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[e.jsx("div",{style:{fontSize:12,fontWeight:700,textTransform:"uppercase",letterSpacing:.8,color:t.dm},children:"‚úèÔ∏è Formulation"}),e.jsxs("div",{style:{fontSize:16,fontWeight:800,fontFamily:"'JetBrains Mono', monospace",color:r(a.note||0).col},children:[a.note||0,"/20"]})]}),e.jsx(M,{score:a.note||0}),a.description&&e.jsx("div",{style:{fontSize:13,color:t.mt,marginBottom:10,fontStyle:"italic"},children:a.description}),(a.points_forts||[]).length>0&&e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("div",{style:{fontWeight:700,color:t.dm,fontSize:10,textTransform:"uppercase",letterSpacing:.6,marginBottom:3},children:"Points forts"}),(a.points_forts||[]).map((l,d)=>e.jsxs("div",{style:{fontSize:12,color:t.ok,marginBottom:3},children:["‚úÖ ",l]},d))]}),(a.points_a_ameliorer||[]).length>0&&e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:700,color:t.dm,fontSize:10,textTransform:"uppercase",letterSpacing:.6,marginBottom:3},children:"√Ä am√©liorer"}),g(a.points_a_ameliorer,{said:"ce_que_vous_avez_dit",why:"probleme",better:"version_amelioree",tip:"principe"})]})]})]}),i.conseil_posture&&e.jsxs("div",{style:{background:t.acD,border:`1px solid ${t.ac}33`,borderRadius:10,padding:"14px 18px",marginTop:12},children:[e.jsx("div",{style:{fontSize:10,fontWeight:700,textTransform:"uppercase",letterSpacing:1,color:t.ac,marginBottom:4},children:"Conseil posture"}),e.jsx("div",{style:{fontSize:13,color:t.tx,fontWeight:500},children:i.conseil_posture})]})]})}function re({disc:i}){const t=_();if(!i)return null;const r=i.profil_prospect||{},o=i.adaptation_commerciale||{},s=(r.type_principal||"").toUpperCase(),a=r.type_secondaire?r.type_secondaire.toUpperCase():null,n=o.score_adaptation||0,m=n>=14?t.ok:n>=8?t.wr:t.dn,g={D:"#ef4444",I:"#eab308",S:"#22c55e",C:"#3b82f6"};return e.jsxs("div",{style:{marginBottom:28},children:[e.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:18,display:"flex",alignItems:"center",gap:10},children:"üß† Profil DISC de votre interlocuteur"}),e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:16,marginBottom:20},children:["D","I","S","C"].map(l=>{const d=l===s,u=l===a,y=g[l];return e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("div",{style:{width:64,height:64,borderRadius:16,display:"grid",placeItems:"center",fontSize:28,fontWeight:800,fontFamily:"'JetBrains Mono', monospace",transition:"all 0.3s",border:`2px solid ${d||u?y:t.bd}`,color:d||u?y:t.dm,background:d||u?`${y}14`:t.bgC,opacity:d?1:u?.75:.35,transform:d?"scale(1.1)":"none",boxShadow:d?`0 4px 20px ${y}4D`:"none"},children:l}),e.jsx("div",{style:{fontSize:9,fontWeight:600,textTransform:"uppercase",letterSpacing:.5,marginTop:4,textAlign:"center",color:d||u?y:t.dm},children:K[l]})]},l)})}),e.jsxs("div",{style:{background:t.bgC,border:`1px solid ${t.bd}`,borderRadius:10,padding:18,marginBottom:14},children:[r.description&&e.jsx("div",{style:{fontSize:14,lineHeight:1.6,color:t.mt,marginBottom:12},children:r.description}),(r.indices_detectes||[]).length>0&&e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:700,color:t.dm,fontSize:10,textTransform:"uppercase",letterSpacing:.6,marginBottom:3},children:"Indices d√©tect√©s"}),e.jsx("ul",{style:{listStyle:"none",padding:0},children:(r.indices_detectes||[]).map((l,d)=>e.jsxs("li",{style:{fontSize:12,color:t.mt,padding:"4px 0",borderBottom:`1px solid ${t.bd}33`},children:["üîç ",l]},d))})]})]}),e.jsxs("div",{style:{background:t.bgC,border:`1px solid ${t.bd}`,borderRadius:10,padding:18,marginBottom:14},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[e.jsx("div",{style:{fontSize:14,fontWeight:700},children:"Votre adaptation √† ce profil"}),e.jsxs("div",{style:{fontSize:16,fontWeight:800,fontFamily:"'JetBrains Mono', monospace",color:m},children:[n,"/20"]})]}),e.jsx(M,{score:n}),(o.ce_qui_a_marche||[]).length>0&&e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("div",{style:{fontWeight:700,color:t.ok,fontSize:10,textTransform:"uppercase",letterSpacing:.6,marginBottom:3},children:"Ce qui a march√©"}),(o.ce_qui_a_marche||[]).map((l,d)=>e.jsxs("div",{style:{fontSize:12,padding:"8px 10px",marginBottom:6,background:`${t.ok}0F`,borderRadius:6,borderLeft:`3px solid ${t.ok}`},children:[e.jsxs("div",{style:{color:t.ok,fontWeight:600,marginBottom:2},children:['"',l.verbatim||"",'"']}),e.jsx("div",{style:{color:t.mt,fontStyle:"italic"},children:l.pourquoi_adapte||""})]},d))]}),(o.ce_qui_na_pas_marche||[]).length>0&&e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:700,color:t.wr,fontSize:10,textTransform:"uppercase",letterSpacing:.6,marginBottom:3},children:"Ce qui n'a pas march√©"}),(o.ce_qui_na_pas_marche||[]).map((l,d)=>e.jsxs("div",{style:{marginBottom:10,padding:10,background:t.bgE,borderRadius:6,border:`1px solid ${t.bd}`},children:[e.jsxs("div",{style:{fontSize:12,color:t.dn,marginBottom:6},children:['‚ùå "',l.verbatim||"",'"']}),e.jsxs("div",{style:{fontSize:12,color:t.dm,marginBottom:4},children:["üí° ",l.pourquoi_inadapte||""]}),e.jsxs("div",{style:{fontSize:12,color:t.ok},children:['‚úÖ "',l.ce_quil_aurait_fallu_dire||"",'"']}),l.principe_disc&&e.jsx("div",{style:{fontSize:11,color:t.bl,fontStyle:"italic",marginTop:4},children:l.principe_disc})]},d))]})]}),o.strategie_ideale&&e.jsxs("div",{style:{background:`${t.bl}0F`,border:`1px solid ${t.bl}40`,borderRadius:10,padding:"16px 18px",marginTop:14},children:[e.jsx("div",{style:{fontSize:10,fontWeight:700,textTransform:"uppercase",letterSpacing:1,color:t.bl,marginBottom:6},children:"üéØ Strat√©gie id√©ale pour ce profil"}),e.jsx("div",{style:{fontSize:13,lineHeight:1.6,color:t.tx},children:o.strategie_ideale})]})]})}function fe({evaluation:i,transcriptEntries:t,isFreeMode:r}){const o=_(),{token:s}=U(),[a,n]=h.useState(!1);if(!i)return null;const m=i,g=m.score_global>=14?o.ok:m.score_global>=10?o.wr:o.dn,l={A:o.ok,B:o.bl,C:o.wr,D:o.dn,E:o.dn},d={A:o.okD,B:o.blD,C:o.wrD,D:o.dnD,E:o.dnD},u=l[m.note_lettre]||o.mt,y=d[m.note_lettre]||o.bgE,c={rdv_obtenu:o.ok,mail_envoi:o.bl,rappel_prevu:o.wr,echec_poli:o.wr,echec_dur:o.dn}[m.resultat_appel]||o.mt,S=m.moment_cle;return e.jsxs("div",{children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:32,padding:28,background:o.bgC,border:`1px solid ${o.bd}`,borderRadius:14},children:[e.jsxs("div",{style:{fontSize:56,fontWeight:800,fontFamily:"'JetBrains Mono', monospace",letterSpacing:-2,lineHeight:1,color:g},children:[m.score_global,e.jsx("span",{style:{fontSize:20,color:o.dm,fontWeight:400},children:"/20"})]}),e.jsx("div",{style:{display:"inline-block",padding:"4px 16px",borderRadius:20,fontSize:18,fontWeight:800,marginTop:10,background:y,color:u},children:m.note_lettre||"?"}),e.jsx("div",{style:{marginTop:10,fontSize:12,color:c,fontWeight:600},children:N[m.resultat_appel]||m.resultat_appel||""})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:32},children:e.jsx(te,{competences:m.competences||{}})}),e.jsx("div",{className:"sim-eval-grid",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:14,marginBottom:28},children:J.map(b=>e.jsx(ne,{compKey:b,comp:(m.competences||{})[b]||{score:0}},b))}),e.jsx(ie,{pc:m.posture_commerciale}),e.jsx(re,{disc:m.analyse_disc}),m.synthese&&e.jsxs("div",{style:{background:o.bgC,border:`1px solid ${o.bd}`,borderRadius:14,padding:20,marginBottom:20},children:[e.jsx("div",{style:{fontSize:12,fontWeight:700,textTransform:"uppercase",letterSpacing:1,color:o.dm,marginBottom:10},children:"Synth√®se"}),e.jsx("div",{style:{fontSize:14,lineHeight:1.65,color:o.mt},children:m.synthese})]}),m.conseil_prioritaire&&e.jsxs("div",{style:{background:o.acD,border:`1px solid ${o.ac}33`,borderRadius:10,padding:"16px 20px",marginBottom:24},children:[e.jsx("div",{style:{fontSize:10,fontWeight:700,textTransform:"uppercase",letterSpacing:1,color:o.ac,marginBottom:6},children:"Conseil prioritaire"}),e.jsx("div",{style:{fontSize:14,color:o.tx,fontWeight:500},children:m.conseil_prioritaire})]}),S&&S.quand&&e.jsxs("div",{style:{background:o.bgC,border:`1px solid ${o.bd}`,borderLeft:`4px solid ${o.wr}`,borderRadius:10,padding:20,marginBottom:24},children:[e.jsx("div",{style:{fontSize:16,fontWeight:700,marginBottom:14},children:"‚ö° Le moment d√©cisif de votre appel"}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("div",{style:{fontSize:10,fontWeight:700,textTransform:"uppercase",letterSpacing:.8,color:o.dm,marginBottom:4},children:"Contexte"}),e.jsx("div",{style:{fontSize:13.5,lineHeight:1.55},children:S.quand})]}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("div",{style:{fontSize:10,fontWeight:700,textTransform:"uppercase",letterSpacing:.8,color:o.dn,marginBottom:4},children:"Ce que vous avez dit"}),e.jsxs("div",{style:{fontSize:13.5,lineHeight:1.55,color:o.dn,background:o.dnD,padding:"8px 12px",borderRadius:6},children:['"',S.ce_que_vous_avez_dit||"",'"']})]}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("div",{style:{fontSize:10,fontWeight:700,textTransform:"uppercase",letterSpacing:.8,color:o.ok,marginBottom:4},children:"Ce qu'il aurait fallu dire"}),e.jsxs("div",{style:{fontSize:13.5,lineHeight:1.55,color:o.ok,background:o.okD,padding:"8px 12px",borderRadius:6},children:['"',S.ce_qui_aurait_ete_ideal||"",'"']})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:10,fontWeight:700,textTransform:"uppercase",letterSpacing:.8,color:o.dm,marginBottom:4},children:"Pourquoi"}),e.jsx("div",{style:{fontSize:13.5,lineHeight:1.55,color:o.mt,fontStyle:"italic"},children:S.pourquoi||""})]})]}),t.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>n(!a),style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,width:"100%",padding:14,borderRadius:10,background:o.bgC,border:`1px solid ${o.bd}`,color:o.mt,fontSize:14,fontWeight:600,cursor:"pointer",transition:"all 0.15s",marginBottom:16,fontFamily:"inherit"},children:"üìù Relire l'√©change complet"}),a&&e.jsx("div",{style:{maxHeight:400,overflowY:"auto",background:o.bgC,border:`1px solid ${o.bd}`,borderRadius:10,padding:16,marginBottom:24},children:t.map((b,B)=>e.jsxs("div",{style:{display:"flex",gap:10,padding:"8px 0",borderBottom:B<t.length-1?`1px solid ${o.bd}33`:"none"},children:[e.jsx("span",{style:{fontSize:11,fontWeight:700,textTransform:"uppercase",letterSpacing:.5,flexShrink:0,minWidth:70,paddingTop:2,color:b.who==="user"?o.bl:o.ac},children:b.who==="user"?"Vous":"Prospect"}),e.jsx("span",{style:{fontSize:13,lineHeight:1.55,color:o.mt},children:b.text})]},B))})]}),r&&!s&&e.jsxs("div",{style:{background:`linear-gradient(135deg, ${o.acD}, ${o.ac}08)`,border:`1px solid ${o.ac}33`,borderRadius:14,padding:"28px 24px",textAlign:"center",marginTop:28},children:[e.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:6},children:"Impressionn√© ? Ce n'est que le d√©but."}),e.jsx("div",{style:{fontSize:13,color:o.mt,lineHeight:1.6,marginBottom:20},children:"Cette simulation gratuite ne montre qu'un seul sc√©nario. Cr√©ez votre compte pour d√©bloquer toute la plateforme."}),e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:16,flexWrap:"wrap",marginBottom:20},children:["‚úì 12 sc√©narios sectoriels","‚úì 3 niveaux de difficult√©","‚úì Dashboard de progression","‚úì Sc√©narios sur mesure"].map(b=>e.jsx("div",{style:{fontSize:12,color:o.mt,background:o.bgC,border:`1px solid ${o.bd}`,borderRadius:8,padding:"8px 14px"},children:b},b))}),e.jsx("a",{href:"/contact",style:{display:"inline-block",padding:"14px 32px",borderRadius:6,background:`linear-gradient(135deg, ${o.ac}, ${o.acL})`,color:"#fff",fontSize:14,fontWeight:600,textDecoration:"none"},children:"Cr√©er mon compte ‚Äî 49‚Ç¨/mois"}),e.jsx("div",{style:{fontSize:11,color:o.dm,marginTop:10},children:"Sans engagement ¬∑ Annulable √† tout moment"})]})]})}const P=[{pct:8,label:"Lecture du transcript...",icon:"üìù"},{pct:18,label:"Identification des moments cl√©s...",icon:"üîç"},{pct:32,label:"Analyse de l'accroche FORCE 3D...",icon:"‚ö°"},{pct:45,label:"√âvaluation de la d√©couverte...",icon:"üéØ"},{pct:57,label:"Analyse du traitement des objections...",icon:"üõ°Ô∏è"},{pct:68,label:"Mesure de l'engagement prospect...",icon:"üìä"},{pct:78,label:"√âvaluation de la fermeture...",icon:"üîë"},{pct:87,label:"Profilage DISC du prospect...",icon:"üß†"},{pct:94,label:"G√©n√©ration des recommandations...",icon:"üí°"},{pct:99,label:"Finalisation du rapport...",icon:"‚ú®"}];function xe({progress:i,currentStep:t,done:r}){const o=_(),s=h.useRef(-1);h.useEffect(()=>{s.current=t},[t]);const a=P[Math.min(t,P.length-1)],n=r?100:Math.min(i,99),m=P.slice(0,t);return e.jsxs("div",{style:{position:"fixed",inset:0,zIndex:1e4,background:"rgba(0,0,0,0.75)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsxs("div",{style:{background:o.bgC,border:`1px solid ${o.ac}33`,borderRadius:20,padding:"36px 32px 28px",maxWidth:480,width:"92%",boxShadow:`0 0 60px ${o.ac}15, 0 24px 64px rgba(0,0,0,0.5)`,position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",width:200,height:3,background:`linear-gradient(90deg, transparent, ${o.ac}, transparent)`,borderRadius:2}}),e.jsx("div",{style:{textAlign:"center",marginBottom:28},children:e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8,animation:"analysisLogoFloat 2.5s ease-in-out infinite"},children:[e.jsx("div",{style:{width:36,height:36,borderRadius:9,background:`linear-gradient(135deg, ${o.ac}, ${o.acL})`,display:"grid",placeItems:"center",fontWeight:800,fontSize:14,color:"#fff",boxShadow:`0 2px 12px ${o.acD}`},children:"VM"}),e.jsxs("div",{style:{fontSize:17,fontWeight:700,letterSpacing:-.5},children:["Vend",e.jsx("span",{style:{color:o.ac},children:"Mieux"})]})]})}),m.length>0&&e.jsx("div",{style:{marginBottom:16,maxHeight:120,overflowY:"auto"},children:m.map((g,l)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:12,color:o.dm,padding:"3px 0",opacity:.6},children:[e.jsx("span",{style:{color:o.ok,fontSize:11},children:"‚úì"}),e.jsx("span",{children:g.label.replace("...","")})]},l))}),r?e.jsxs("div",{style:{textAlign:"center",padding:"8px 0 20px",animation:"analysisFadeIn 0.3s ease"},children:[e.jsx("div",{style:{fontSize:42,marginBottom:10},children:"‚úÖ"}),e.jsx("div",{style:{fontSize:15,fontWeight:600,color:o.ok},children:"Analyse compl\\u00e8te !"})]}):e.jsxs("div",{style:{textAlign:"center",padding:"8px 0 20px",animation:"analysisFadeIn 0.3s ease"},children:[e.jsx("div",{style:{fontSize:42,marginBottom:10,animation:"analysisIconIn 0.4s ease"},children:a.icon}),e.jsx("div",{style:{fontSize:15,fontWeight:600,color:o.tx,animation:"analysisFadeIn 0.3s ease"},children:a.label})]},t),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:20},children:[e.jsx("div",{style:{flex:1,height:8,borderRadius:4,background:o.bgE,overflow:"hidden",position:"relative"},children:e.jsx("div",{style:{width:`${n}%`,height:"100%",borderRadius:4,background:r?o.ok:`linear-gradient(90deg, ${o.ac}, ${o.ok})`,transition:"width 0.6s ease",boxShadow:r?`0 0 12px ${o.ok}60`:`0 0 12px ${o.ac}50`,animation:r?"none":"analysisGlow 1.5s ease-in-out infinite"}})}),e.jsxs("div",{style:{fontSize:13,fontWeight:700,color:o.ac,minWidth:38,textAlign:"right"},children:[n,"%"]})]}),e.jsxs("div",{style:{textAlign:"center",fontSize:12,color:o.dm,lineHeight:1.5,borderTop:`1px solid ${o.bd}`,paddingTop:16},children:["Claude analyse votre performance commerciale",e.jsx("br",{}),"selon les 5 axes de la m\\u00e9thode FORCE 3D\\u00ae"]})]}),e.jsx("style",{children:`
        @keyframes analysisLogoFloat {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-3px); }
        }
        @keyframes analysisFadeIn {
          from { opacity: 0; transform: translateY(6px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes analysisIconIn {
          from { opacity: 0; transform: translateY(10px) scale(0.85); }
          to { opacity: 1; transform: translateY(0) scale(1); }
        }
        @keyframes analysisGlow {
          0%, 100% { box-shadow: 0 0 8px ${o.ac}40; }
          50% { box-shadow: 0 0 18px ${o.ac}70; }
        }
      `})]})}export{xe as A,pe as D,ge as L,ue as S,me as a,he as b,fe as c,P as d,de as u};
